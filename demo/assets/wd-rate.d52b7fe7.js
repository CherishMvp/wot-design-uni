import{b as e,a}from"./page-wraper.eeca02a0.js";import{d as t,r as s,q as l,p as o,g as r,h as n,o as d,c as i,w as u,e as c,F as m,f,u as p,a as g,v as y,n as b,i as h}from"./index-5dc556e1.js";const v=a(t({name:"wd-rate",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customClass:{default:""},num:{default:5},modelValue:{default:null},readonly:{type:Boolean,default:!1},size:{default:"16px"},space:{default:"4px"},color:{default:"#E8E8E8"},activeColor:{default:"linear-gradient(180deg, rgba(255,238,0,1) 0%,rgba(250,176,21,1) 100%)"},icon:{default:"star-on"},activeIcon:{default:"star-on"},disabled:{type:Boolean,default:!1},disabledColor:{default:"linear-gradient(315deg, rgba(177,177,177,1) 0%,rgba(199,199,199,1) 100%)"}},emits:["update:modelValue","change"],setup(a,{emit:t}){const v=a,w=s([]),_=s(""),C=l((()=>`background:${v.color}; -webkit-background-clip: text; color: transparent`)),z=l((()=>`background:${v.disabled?v.disabledColor:_.value}; -webkit-background-clip: text; color: transparent`));function k(){const{activeColor:e,modelValue:a,num:t}=v;let s="";s=Array.isArray(e)&&e.length?Number(a)<=.6*t||!e[1]?e[0]:e[1]:e,_.value=s}return o((()=>v.activeColor),(e=>{Array.isArray(e)&&!e.length&&console.error("activeColor cannot be an empty array"),k()}),{immediate:!0,deep:!0}),o([()=>v.num,()=>v.modelValue],(()=>{!function(){const{modelValue:e,num:a}=v;if(null===e||!a)return;if("number"!=typeof e)return void console.error("[Wot Design] error(wd-rate): the value of wd-rate should be a number");const t=[],s=Math.ceil(e)-1;for(let l=0;l<a;l++)if(l<s)t.push("100%");else if(l===s){const a=e-s>.5?1:.5;t.push(100*a+"%")}else t.push("0");w.value=t,k()}()}),{immediate:!0,deep:!0}),(s,l)=>{const o=r(n("wd-icon"),e),_=h;return d(),i(_,{class:b(`wd-rate ${a.customClass}`)},{default:u((()=>[(d(!0),c(m,null,f(w.value,((e,s)=>(d(),i(_,{key:s,"data-index":s,style:p({"margin-right":s==w.value.length-1?0:a.space}),class:"wd-rate__item",onClick:e=>function(e){v.readonly||v.disabled||(t("update:modelValue",e+1),t("change",{value:e+1}))}(s)},{default:u((()=>[g(_,{class:"wd-rate__item-star",style:p({width:a.size,height:a.size})},{default:u((()=>[g(o,{name:a.icon,size:a.size,"custom-style":y(C)},null,8,["name","size","custom-style"])])),_:1},8,["style"]),g(_,{class:"wd-rate__item-star wd-rate__item-star--active",style:p({width:e,height:a.size})},{default:u((()=>[g(o,{name:a.activeIcon,size:a.size,"custom-style":y(z)},null,8,["name","size","custom-style"])])),_:2},1032,["style"])])),_:2},1032,["data-index","style","onClick"])))),128))])),_:1},8,["class"])}}}),[["__scopeId","data-v-da7aff44"]]);export{v as _};
