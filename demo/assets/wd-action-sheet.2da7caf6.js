import{b as e,n as a,l,a as t}from"./page-wraper.eeca02a0.js";import{d as s,r as n,p as o,g as c,h as d,o as i,c as u,w as r,a as p,n as m,u as f,b as _,t as y,m as h,e as w,F as k,f as b,y as g,i as v,W as x,j as C}from"./index-5dc556e1.js";const z=t(s({name:"wd-action-sheet",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customClass:{default:""},customHeaderClass:{default:""},customStyle:{default:""},modelValue:{type:Boolean,default:!1},actions:{default:()=>[]},panels:{default:()=>[]},title:null,cancelText:null,closeOnClickAction:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},duration:{default:200},zIndex:{default:10},lazyRender:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0}},emits:["select","click-modal","cancel","closed","close","open","opened","update:modelValue"],setup(t,{emit:s}){const z=t,I=n([]),$=n(!1);function B(){return z.panels.length&&!(z.panels[0]instanceof Array)}function V(e,a,l){"action"===a?s("select",{item:z.actions[e],index:e}):B()?s("select",{item:z.panels[Number(l)],index:l}):s("select",{item:z.panels[e][Number(l)],rowIndex:e,colIndex:l}),O()}function A(){s("click-modal"),z.closeOnClickModal&&O()}function M(){s("cancel"),O()}function O(){s("update:modelValue",!1),s("close")}function j(){s("open")}function H(){s("opened")}function T(){s("closed")}return o((()=>z.panels),(function(){I.value=B()?[z.panels]:z.panels}),{deep:!0,immediate:!0}),o((()=>z.modelValue),(e=>{$.value=e}),{deep:!0,immediate:!0}),(s,n)=>{const o=c(d("wd-icon"),e),z=v,B=c(d("wd-loading"),a),E=x,N=C,R=c(d("wd-popup"),l);return i(),u(z,null,{default:r((()=>[p(R,{"custom-class":"wd-action-sheet__popup","custom-style":""+(t.actions&&t.actions.length||t.panels&&t.panels.length?"background: transparent;":""),modelValue:$.value,"onUpdate:modelValue":n[0]||(n[0]=e=>$.value=e),duration:t.duration,position:"bottom","close-on-click-modal":t.closeOnClickModal,"safe-area-inset-bottom":t.safeAreaInsetBottom,"lazy-render":t.lazyRender,onEnter:j,onClose:O,onAfterEnter:H,onAfterLeave:T,onClickModal:A,"z-index":t.zIndex},{default:r((()=>[p(z,{class:m(`wd-action-sheet ${t.customClass}`),style:f(`${t.actions&&t.actions.length||t.panels&&t.panels.length?"margin: 0 10px calc(var(--window-bottom) + 10px) 10px; border-radius: 16px;":"margin-bottom: var(--window-bottom);"} ${t.customStyle}`)},{default:r((()=>[t.title?(i(),u(z,{key:0,class:m(`wd-action-sheet__header ${t.customHeaderClass}`)},{default:r((()=>[_(y(t.title)+" ",1),p(o,{"custom-class":"wd-action-sheet__close",name:"add",onClick:O})])),_:1},8,["class"])):h("v-if",!0),t.actions&&t.actions.length?(i(),u(z,{key:1,class:"wd-action-sheet__actions"},{default:r((()=>[(i(!0),w(k,null,b(t.actions,((e,a)=>(i(),u(E,{key:a,class:m(`wd-action-sheet__action ${e.disabled?"wd-action-sheet__action--disabled":""}  ${e.loading?"wd-action-sheet__action--loading":""}`),style:f(`color: ${e.color}`),onClick:e=>V(a,"action")},{default:r((()=>[e.loading?(i(),u(B,{key:0,size:"20px"})):(i(),u(z,{key:1,class:"wd-action-sheet__name"},{default:r((()=>[_(y(e.name),1)])),_:2},1024)),!e.loading&&e.subname?(i(),u(z,{key:2,class:"wd-action-sheet__subname"},{default:r((()=>[_(y(e.subname),1)])),_:2},1024)):h("v-if",!0)])),_:2},1032,["class","style","onClick"])))),128))])),_:1})):h("v-if",!0),I.value&&I.value.length?(i(),u(z,{key:2},{default:r((()=>[(i(!0),w(k,null,b(I.value,((e,a)=>(i(),u(z,{key:a,class:"wd-action-sheet__panels"},{default:r((()=>[p(z,{class:"wd-action-sheet__panels-content"},{default:r((()=>[(i(!0),w(k,null,b(e,((e,l)=>(i(),u(z,{key:l,class:"wd-action-sheet__panel",onClick:e=>V(a,"panels",l)},{default:r((()=>[p(N,{class:"wd-action-sheet__panel-img",src:e.iconUrl},null,8,["src"]),p(z,{class:"wd-action-sheet__panel-title"},{default:r((()=>[_(y(e.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1})):h("v-if",!0),g(s.$slots,"default",{},void 0,!0),t.cancelText?(i(),u(E,{key:3,class:"wd-action-sheet__cancel",onClick:M},{default:r((()=>[_(y(t.cancelText),1)])),_:1})):h("v-if",!0)])),_:3},8,["class","style"])])),_:3},8,["custom-style","modelValue","duration","close-on-click-modal","safe-area-inset-bottom","lazy-render","z-index"])])),_:3})}}}),[["__scopeId","data-v-bbc95e99"]]);export{z as _};
