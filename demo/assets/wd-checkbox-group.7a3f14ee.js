import{j as e,h as l,b as a,a as s,p as o,z as t}from"./page-wraper.eeca02a0.js";import{d as u,q as c,p as n,N as d,g as r,h as i,o as p,c as h,w as m,m as b,v as x,n as f,u as k,a as g,y as V,x as _,i as v}from"./index-5dc556e1.js";import{u as $}from"./useChildren.f9480853.js";const y=Symbol("wd-checkbox-group"),C=s(u({name:"wd-checkbox",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customLabelClass:{default:""},customShapeClass:{default:""},customClass:{default:""},modelValue:{type:[String,Number,Boolean]},shape:{default:"circle"},checkedColor:null,disabled:{type:[Boolean,null],default:null},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},size:null,maxWidth:null},emits:["change","update:modelValue"],setup(s,{emit:o}){const t=s,{parent:u,index:$}=e(y),C=c((()=>u?u.props.modelValue.indexOf(t.modelValue)>-1:t.modelValue===t.trueValue)),w=c((()=>0===$.value)),S=c((()=>{const e=l(u)?u.children:[];return $.value===e.length-1})),{proxy:z}=_();n((()=>t.modelValue),(()=>{u&&u&&u.children&&u.children.forEach((e=>{e.$.uid!==z.$.uid&&e.modelValue===t.modelValue&&console.error(`The checkbox's bound value: ${t.modelValue} has been used`)}))})),n((()=>t.shape),(e=>{const l=["circle","square","button"];-1===l.indexOf(e)&&console.error(`shape must be one of ${l.toString()}`)}));const B=c((()=>!t.shape&&u&&u.props.shape?u.props.shape:t.shape)),q=c((()=>!t.checkedColor&&u&&u.props.checkedColor?u.props.checkedColor:t.checkedColor)),G=c((()=>{let e=t.disabled;return u&&(u.props.max&&u.props.modelValue.length>=u.props.max&&!C.value||u.props.min&&u.props.modelValue.length<=u.props.min&&C.value||!0===t.disabled||u.props.disabled&&null===t.disabled)&&(e=!0),e})),j=c((()=>!(!u||!u.props.inline)&&u.props.inline)),I=c((()=>!(!u||!u.props.cell)&&u.props.cell)),N=c((()=>!t.size&&u&&u.props.size?u.props.size:t.size));function O(){if(!G.value)if(u)o("change",{value:!C.value}),u.changeSelectState(t.modelValue);else{const e=t.modelValue===t.trueValue?t.falseValue:t.trueValue;o("update:modelValue",e),o("change",{value:e})}}return d((()=>{null===t.modelValue&&console.error("checkbox's value must be set")})),(e,l)=>{const o=r(i("wd-icon"),a),t=v;return p(),h(t,{class:f(`wd-checkbox ${x(I)?"is-cell-box":""} ${"button"===x(B)?"is-button-box":""} ${x(C)?"is-checked":""} ${x(w)?"is-first-child":""} ${x(S)?"is-last-child":""} ${x(j)?"is-inline":""} ${"button"===x(B)?"is-button":""} ${x(G)?"is-disabled":""} ${x(N)?"is-"+x(N):""} ${s.customClass}`),onClick:O},{default:m((()=>[b("shape为button时，移除wd-checkbox__shape，只保留wd-checkbox__label"),"button"!==x(B)?(p(),h(t,{key:0,class:f(`wd-checkbox__shape ${"square"===x(B)?"is-square":""} ${s.customShapeClass}`),style:k(x(C)&&!x(G)&&x(q)?"color :"+x(q):"")},{default:m((()=>[g(o,{"custom-class":"wd-checkbox__check",name:"check-bold",size:"14px"})])),_:1},8,["class","style"])):b("v-if",!0),b("shape为button时只保留wd-checkbox__label"),g(t,{class:f(`wd-checkbox__label ${s.customLabelClass}`),style:k(x(C)&&"button"===x(B)&&!x(G)&&x(q)?"color:"+x(q):"")},{default:m((()=>[b("button选中时展示的icon"),"button"===x(B)&&x(C)?(p(),h(o,{key:0,"custom-class":"wd-checkbox__btn-check",name:"check-bold",size:"14px"})):b("v-if",!0),b("文案"),g(t,{class:"wd-checkbox__txt",style:k(s.maxWidth?"max-width:"+s.maxWidth:"")},{default:m((()=>[V(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3},8,["class","style"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-880e876c"]]),w=s(u({name:"wd-checkbox-group",options:{addGlobalClass:!0,virtualHost:!0,styleIsolation:"shared"},props:{customClass:{default:""},modelValue:{default:()=>[]},cell:{type:Boolean,default:!1},shape:{default:"circle"},checkedColor:{default:"#4D80F0"},disabled:{type:Boolean,default:!1},min:{default:0},max:{default:0},inline:{type:Boolean,default:!1},size:null,name:null},emits:["change","update:modelValue"],setup(e,{emit:l}){const a=e,{linkChildren:s}=$(y);return s({props:a,changeSelectState:function(e){const s=t(a.modelValue),o=s.indexOf(e);o>-1?s.splice(o,1):s.push(e);l("update:modelValue",s),l("change",{value:s})}}),n((()=>a.modelValue),(e=>{new Set(e).size!==e.length&&console.error("checkboxGroup's bound value includes same value"),e.length<a.min&&console.error("checkboxGroup's bound value's length can't be less than min"),0!==a.max&&e.length>a.max&&console.error("checkboxGroup's bound value's length can't be large than max")}),{deep:!0,immediate:!0}),n((()=>a.shape),(e=>{const l=["circle","square","button"];-1===l.indexOf(e)&&console.error(`shape must be one of ${l.toString()}`)}),{deep:!0,immediate:!0}),n((()=>a.min),(e=>{o(e,"min")}),{deep:!0,immediate:!0}),n((()=>a.max),(e=>{o(e,"max")}),{deep:!0,immediate:!0}),(l,a)=>{const s=v;return p(),h(s,{class:f(`wd-checkbox-group ${"button"===e.shape&&e.cell?"is-button":""} ${e.customClass}`)},{default:m((()=>[V(l.$slots,"default",{},void 0,!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-80853a07"]]);export{C as _,w as a};
